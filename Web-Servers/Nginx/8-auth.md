# ğŸ”ğŸ”‘ Nginx SSL with HTTP Basic Authentication

## ğŸ“„ Example Secure Server Block (HTTPS + Password Protection)

```nginx
listen 443 ssl;
server_name example.com www.example.com;

# ğŸ”’ SSL Certificates (Generated by Certbot)
ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem; 
ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem; 

# ğŸ“‚ Website Root
root /var/www/example.com/html;
index index.html;

# ğŸ”‘ Password-Protected Location
location / {
    auth_basic "Admin";
    auth_basic_user_file /etc/nginx/.htpasswd;
    try_files $uri $uri/ =404;
}
```

---

## ğŸ—‚ï¸ Explanation of Key Parts

| Directive              | Purpose                                                             |
| ---------------------- | ------------------------------------------------------------------- |
| `auth_basic "Admin";`  | Enables **HTTP Basic Authentication** with prompt title â€œAdminâ€.    |
| `auth_basic_user_file` | Points to the `.htpasswd` file containing username/password hashes. |
| `.htpasswd` file       | Stores encrypted credentials â€” created using `htpasswd` command.    |
| SSL lines              | Load the certificate and private key from **Certbot**.              |

---

## ğŸ› ï¸ How to Set Up Password Protection

### 1ï¸âƒ£ Install `apache2-utils` (for `htpasswd` tool)

```bash
apt install apache2-utils
```

### 2ï¸âƒ£ Create the `.htpasswd` File

```bash
htpasswd -c /etc/nginx/.htpasswd <username>
```

* `-c` creates a **new file** (omit `-c` if adding more users).
* Youâ€™ll be prompted to set a password.

### 3ï¸âƒ£ Adjust File Permissions

```bash
chmod 640 /etc/nginx/.htpasswd
chown root:www-data /etc/nginx/.htpasswd
```

### 4ï¸âƒ£ Test and Reload Nginx

```bash
nginx -t
systemctl reload nginx
```

---

## âš ï¸ Security Notes

* Always store `.htpasswd` **outside** your web root.
* Passwords in `.htpasswd` are hashed, but still protect the file with correct permissions.
* Works best for **admin panels**, **staging sites**, or private areas.
